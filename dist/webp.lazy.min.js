"use strict";!function(e,i,t,n){var r=e(i),o=!1,a=function(e){!function(){var i=new Image;i.onload=i.onerror=function(){o=2===i.height,i.onload=i.onerror=null,i=null,e()},i.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()};e.fn.webp=function(f){function l(){var i;A.each(function(){var t,n=e(this);if(!h.skip_invisible||n.is(":visible")){var r=n.attr(h.origSrc);t=r?n:n.find("["+h.origSrc+"*="+h.origDir+"]"),i&&i.length>0?e.merge?i=e.merge(i,t):i.concat(t):i=t}}),A=i}function c(){var i=0;A.each(function(){var t=e(this);if(!h.skip_invisible||t.is(":visible"))if(e.abovethetop(this,h)||e.leftofbegin(this,h));else if(e.belowthefold(this,h)||e.rightoffold(this,h)){if(++i>h.failure_limit)return!1}else t.trigger("appear"),i=0})}var s,A=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:i,origSrc:"lsrc",origDir:"images",webpDir:"webps",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return l(),f&&(n!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),n!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),e.extend(h,f)),s=h.container===n||h.container===i?r:e(h.container),0===h.event.indexOf("scroll")&&s.bind(h.event,function(){return c()}),A.each(function(){var i=this,t=e(i);i.loaded=!1,(t.attr("src")===n||t.attr("src")===!1)&&t.is("img")&&t.attr("src",h.placeholder),t.one("appear",function(){if(!this.loaded){if(h.appear){var n=A.length;h.appear.call(i,n,h)}var r=t.attr(h.origSrc);o&&(r=r.replace(h.origDir,h.webpDir).replace(/\.(jpg|png|jpeg|gif)$/gi,".webp")),e("<img />").bind("load",function(){t.hide(),t.is("img")?t.attr("src",r):t.css("background-image","url('"+r+"')"),t[h.effect](h.effect_speed),i.loaded=!0;var n=e.grep(A,function(e){return!e.loaded});if(A=e(n),h.load){var o=A.length;h.load.call(i,o,h)}}).attr("src",r)}}),0!==h.event.indexOf("scroll")&&t.bind(h.event,function(){i.loaded||t.trigger("appear")})}),r.bind("resize",function(){c()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",function(i){i.originalEvent&&i.originalEvent.persisted&&A.each(function(){e(this).trigger("appear")})}),e(t).ready(function(){a(function(){c()})}),this},e.belowthefold=function(t,o){var a;return a=o.container===n||o.container===i?(i.innerHeight?i.innerHeight:r.height())+r.scrollTop():e(o.container).offset().top+e(o.container).height(),a<=e(t).offset().top-o.threshold},e.rightoffold=function(t,o){var a;return a=o.container===n||o.container===i?r.width()+r.scrollLeft():e(o.container).offset().left+e(o.container).width(),a<=e(t).offset().left-o.threshold},e.abovethetop=function(t,o){var a;return a=o.container===n||o.container===i?r.scrollTop():e(o.container).offset().top,a>=e(t).offset().top+o.threshold+e(t).height()},e.leftofbegin=function(t,o){var a;return a=o.container===n||o.container===i?r.scrollLeft():e(o.container).offset().left,a>=e(t).offset().left+o.threshold+e(t).width()},e.inviewport=function(i,t){return!(e.rightoffold(i,t)||e.leftofbegin(i,t)||e.belowthefold(i,t)||e.abovethetop(i,t))},e.extend(e,{webp:function(i){e(t).webp(i)}})}($,window,document);
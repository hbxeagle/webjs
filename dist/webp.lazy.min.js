"use strict";!function(e,i,t,n){var r=e(i),o=!1,a=!1,f=function(e){return a?void e():void function(){var i=new Image;i.onload=i.onerror=function(){a=!0,o=2===i.height,i.onload=i.onerror=null,i=null,e()},i.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()};e.fn.webp=function(a){function l(){var i;A.each(function(){var t,n=e(this);if(!d.skip_invisible||n.is(":visible")){var r=n.attr(d.origSrc);t=r?n:n.find("["+d.origSrc+"*="+d.origDir+"]"),i&&i.length>0?e.merge?i=e.merge(i,t):i.concat(t):i=t}}),A=i}function c(){var i=0;A.each(function(){var t=e(this);if(!d.skip_invisible||t.is(":visible"))if(e.abovethetop(this,d)||e.leftofbegin(this,d));else if(e.belowthefold(this,d)||e.rightoffold(this,d)){if(++i>d.failure_limit)return!1}else t.trigger("appear"),i=0})}var s,A=this,d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:i,origSrc:"lsrc",origDir:"images",webpDir:"webps",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return l(),a&&(n!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),n!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),e.extend(d,a)),s=d.container===n||d.container===i?r:e(d.container),0===d.event.indexOf("scroll")&&s.bind(d.event,function(){return c()}),A.each(function(){var i=this,t=e(i);i.loaded=!1,(t.attr("src")===n||t.attr("src")===!1)&&t.is("img")&&t.attr("src",d.placeholder),t.one("appear",function(){if(!this.loaded){if(d.appear){var n=A.length;d.appear.call(i,n,d)}var r=t.attr(d.origSrc);o&&(r=r.replace(d.origDir,d.webpDir).replace(/\.(jpg|png|jpeg|gif)$/gi,".webp")),e("<img />").bind("load",function(){t.hide(),t.is("img")?t.attr("src",r):t.css("background-image","url('"+r+"')"),t[d.effect](d.effect_speed),i.loaded=!0;var n=e.grep(A,function(e){return!e.loaded});if(A=e(n),d.load){var o=A.length;d.load.call(i,o,d)}}).attr("src",r)}}),0!==d.event.indexOf("scroll")&&t.bind(d.event,function(){i.loaded||t.trigger("appear")})}),r.bind("resize",function(){c()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",function(i){i.originalEvent&&i.originalEvent.persisted&&A.each(function(){e(this).trigger("appear")})}),e(t).ready(function(){f(function(){c()})}),this},e.belowthefold=function(t,o){var a;return a=o.container===n||o.container===i?(i.innerHeight?i.innerHeight:r.height())+r.scrollTop():e(o.container).offset().top+e(o.container).height(),a<=e(t).offset().top-o.threshold},e.rightoffold=function(t,o){var a;return a=o.container===n||o.container===i?r.width()+r.scrollLeft():e(o.container).offset().left+e(o.container).width(),a<=e(t).offset().left-o.threshold},e.abovethetop=function(t,o){var a;return a=o.container===n||o.container===i?r.scrollTop():e(o.container).offset().top,a>=e(t).offset().top+o.threshold+e(t).height()},e.leftofbegin=function(t,o){var a;return a=o.container===n||o.container===i?r.scrollLeft():e(o.container).offset().left,a>=e(t).offset().left+o.threshold+e(t).width()},e.inviewport=function(i,t){return!(e.rightoffold(i,t)||e.leftofbegin(i,t)||e.belowthefold(i,t)||e.abovethetop(i,t))},e.extend(e,{webp:function(i){e(t).webp(i)}})}($,window,document);